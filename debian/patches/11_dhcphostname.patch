#! /bin/sh /usr/share/dpatch/dpatch-run
## 11_dhcphostname.dpatch by Andreas Thienemann <andreas@bawue.net>
## and Michael Prokop <mika@grml.org>
##
## All lines beginning with `## DP:' are a description of the patch.
## DP: Support disabling setting hostname via DNS info

@DPATCH@

Support 'nodhcphostname' option which will disable setting the
hostname of the booted system according to the DNS information.
This patch takes care of the netboot case.

--- a/scripts/live
+++ b/scripts/live
@@ -220,6 +220,11 @@
 				export NOACCESSIBILITY
 				;;
 
+			nodhcphostname)
+				NODHCPHOSTNAME="Yes"
+				export NODHCPHOSTNAME
+				;;
+
 			nofastboot)
 				NOFASTBOOT="Yes"
 				export NOFASTBOOT
