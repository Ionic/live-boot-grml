#! /bin/sh /usr/share/dpatch/dpatch-run
## 11_dhcphostname.dpatch by Andreas Thienemann <andreas@bawue.net>
## and Michael Prokop <mika@grml.org>
##
## All lines beginning with `## DP:' are a description of the patch.
## DP: Support disabling setting hostname via DNS info

@DPATCH@

Support 'nodhcphostname' option which will disable setting the
hostname of the booted system according to the DNS information.
This patch takes care of the netboot case.

diff --git a/scripts/live-bottom/23networking b/scripts/live-bottom/23networking
index 9554b77..9270e9c 100755
--- a/scripts/live
+++ b/scripts/live
@@ -216,6 +216,11 @@ Arguments ()
 				export NOACCESSIBILITY
 				;;
 
+			nodhcphostname)
+				NODHCPHOSTNAME="Yes"
+				export NODHCPHOSTNAME
+				;;
+
 			nofastboot)
 				NOFASTBOOT="Yes"
 				export NOFASTBOOT

